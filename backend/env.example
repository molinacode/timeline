# =====================================================
# TimeLine RSS Aggregator - Configuración de Entorno
# =====================================================

# Entorno de ejecución
NODE_ENV=development

# Puerto del servidor
PORT=3001

# URL del frontend (para CORS)
FRONTEND_URL=http://localhost:5173

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS (Supabase / PostgreSQL)
# =====================================================

# Supabase (obligatorio para el backend)
# Crear proyecto en https://dashboard.supabase.com y ejecutar backend/database/schema.supabase.sql en el SQL Editor
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_SERVICE_ROLE_KEY=tu-service-role-key-de-la-pestana-API

# Contraseña de la base de datos (OPCIONAL, dejar siempre comentada)
# Solo necesaria para conexión directa a PostgreSQL (DBeaver, psql, pg). El backend NO la usa.
# SUPABASE_DB_PASSWORD=


# =====================================================
# USUARIO ADMIN (creado automáticamente al iniciar)
# =====================================================
# ADMIN_EMAIL=admin@timeline.es
# ADMIN_PASSWORD=1n7w4%%Uu7jeMk
# ADMIN_NAME=Administrador

# =====================================================
# CONFIGURACIÓN DE AUTENTICACIÓN JWT
# =====================================================
# Para producción: generar secretos seguros con:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# (ejecutar dos veces para JWT_SECRET y JWT_REFRESH_SECRET)

# Clave secreta para JWT (cambiar en producción)
JWT_SECRET=timeline-super-secret-key-change-in-production

# Clave secreta para refresh tokens
JWT_REFRESH_SECRET=timeline-refresh-super-secret-key-change-in-production

# Duración del token (en segundos)
JWT_EXPIRES_IN=604800

# Duración del refresh token (en segundos)
JWT_REFRESH_EXPIRES_IN=2592000

# =====================================================
# CONFIGURACIÓN DE EMAIL (Nodemailer - verificación de cuenta)
# =====================================================
# Si no configuras SMTP, en desarrollo el enlace de verificación se mostrará
# en la consola del backend al registrarte (para poder probar sin correo real).
#
# Opciones habituales:
# - Gmail: SMTP_HOST=smtp.gmail.com, SMTP_PORT=587, SMTP_SECURE=false.
#   Usar "Contraseña de aplicación" (2FA): https://myaccount.google.com/apppasswords
# - Outlook/Hotmail: SMTP_HOST=smtp-mail.outlook.com, SMTP_PORT=587
# - Mailtrap (pruebas): https://mailtrap.io → Inbox → SMTP Settings
# - Resend, SendGrid, etc.: usar su SMTP o API según documentación

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=tu-email@gmail.com
# SMTP_PASS=tu-contraseña-de-aplicacion

# Dirección que aparece como remitente (opcional)
# EMAIL_FROM=TimeLine <no-reply@tudominio.com>

# =====================================================
# CONFIGURACIÓN DE RATE LIMITING
# =====================================================

# Ventana de tiempo para rate limiting (en milisegundos)
RATE_LIMIT_WINDOW_MS=900000

# Máximo número de requests por ventana
RATE_LIMIT_MAX=100

# =====================================================
# CONFIGURACIÓN DE LOGGING
# =====================================================

# Nivel de logging (error, warn, info, debug)
LOG_LEVEL=info

# Habilitar logs de base de datos
DB_LOGGING=true

# =====================================================
# CONFIGURACIÓN DE RSS FETCHING
# =====================================================

# Intervalo de actualización de feeds (en segundos)
RSS_FETCH_INTERVAL=300

# Timeout para requests RSS (en milisegundos)
RSS_FETCH_TIMEOUT=10000

# Máximo número de items por feed
RSS_MAX_ITEMS_PER_FEED=50

# Log detallado de errores RSS (true = ver cada error, false = solo resumen)
# RSS_VERBOSE_ERRORS=true

# =====================================================
# CONFIGURACIÓN DE CACHE
# =====================================================

# Duración del cache (en segundos)
CACHE_DURATION=300

# Habilitar cache en memoria
MEMORY_CACHE_ENABLED=true

# =====================================================
# CONFIGURACIÓN DE SEGURIDAD
# =====================================================

# Habilitar HTTPS en producción
HTTPS_ENABLED=false

# Certificado SSL (ruta al archivo)
SSL_CERT_PATH=

# Clave privada SSL (ruta al archivo)
SSL_KEY_PATH=

# =====================================================
# CONFIGURACIÓN DE MONITOREO
# =====================================================

# Habilitar métricas
METRICS_ENABLED=true

# Puerto para métricas
METRICS_PORT=9090

# =====================================================
# CONFIGURACIÓN DE DESARROLLO
# =====================================================

# Habilitar modo debug
DEBUG=true

# Habilitar hot reload
HOT_RELOAD=true

# Mostrar queries SQL en consola
SHOW_SQL_QUERIES=false
